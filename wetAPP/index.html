<!DOCTYPE html>
<html>
<head>
<title>Twitter</title>
<link rel="stylesheet" href="global.css">
<link rel="stylesheet" href="twitter.css">
<meta name="viewport" content="initial-scale=1.0,maximum-scale=1.0,user-scalable=0,width=device-width" />
<script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.js"></script>
<script type="text/javascript">
    var ua = navigator.userAgent.toLowerCase();
    var isAndroid = ua.indexOf("android") > -1;
    var head = document.getElementsByTagName('head').item(0);
    var webinosJS = document.createElement("script");
    webinosJS.setAttribute("id", "webinosJS");
    webinosJS.setAttribute("src", "http://localhost:8080/webinos.js");
    webinosJS.setAttribute("type","text/javascript");
    webinosJS.setAttribute("onload", "webinosLoaded()");
    webinosJS.setAttribute("onerror", "webinosError()");

    if(isAndroid) {
        var script = document.createElement("script");
        script.src = "webinossocket.js";
        script.type = 'text/javascript';
        head.appendChild(script);   
        
        script.onload = function () {
            head.appendChild(webinosJS);
        } 
    }
    else {        
        if(!UrlExists(webinosJS.src))
            webinosJS.setAttribute("src", "http://localhost:8080/client/webinos.js");
        head.appendChild(webinosJS);
    }

    function UrlExists(url) {
    var http = new XMLHttpRequest();
    http.open('HEAD', url, false);
    http.send();
    return http.status!=404;
    }

    function webinosError(){
        alert("Error: webinos.js cannot be found in any available path!");
        window.open('', '_self', '');
    }

    function webinosLoaded() {
        var script = document.createElement("script");
        script.setAttribute("src", "code/checkWebinosVersion.js");
        script.setAttribute("type","text/javascript");
        head.appendChild(script);
        script.onload = function(){

            script = document.createElement("script");
            script.setAttribute("src", "code/jquery.MaxInput.js");
            script.setAttribute("type","text/javascript");
            head.appendChild(script);
            script.onload = function(){
            
                script = document.createElement("script");
                script.setAttribute("src", "code/webinoscalls.js")
                script.setAttribute("type","text/javascript");
                head.appendChild(script);
                script.onload = function(){
                
                    script = document.createElement("script");
                    script.setAttribute("src", "code/contacts.js");
                    script.setAttribute("type","text/javascript");
                    head.appendChild(script);
                    script.onload = function(){
                    
                        script = document.createElement("script");
                        script.setAttribute("src", "code/demo3.js");
                        script.setAttribute("type","text/javascript");
                        head.appendChild(script);
                        script.onload = function(){
                        
                            script = document.createElement("script");
                            script.setAttribute("src", "code/remoteInput.js");
                            script.setAttribute("type","text/javascript");
                            head.appendChild(script);
                            script.onload = function(){
                            
                                script = document.createElement("script");
                                script.setAttribute("src", "code/listenRemoteInput.js");
                                script.setAttribute("type","text/javascript");
                                head.appendChild(script);
                                script.onload = function(){
                                    
                                    script = document.createElement("script");
                                    script.setAttribute("src", "code/vehicle.js");
                                    script.setAttribute("type","text/javascript");
                                    head.appendChild(script);
                                    script.onload = function(){
                                        
                                        script = document.createElement("script");
                                        script.setAttribute("src", "code/tvManager.js");
                                        script.setAttribute("type","text/javascript");
                                        head.appendChild(script);
                                        script.onload = function(){
                                            
                                            script = document.createElement("script");
                                            script.setAttribute("src", "code/UIframework.js");
                                            script.setAttribute("type","text/javascript");
                                            head.appendChild(script);
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
</script>
<!--
<script type="text/javascript" src="../../webinos.js"></script>
-->
<!---------------------WORKAROUND FOR WRT, DOESN'T WORK ON BROWSERS---------------------->
<!--
<script type="text/javascript" src="webinossocket.js"></script>
<script type="text/javascript" src="webinos.js"></script>
-->
<!--------------------------------------------------------------------------------------->
<!--
<script type="text/javascript" src="code/jquery.MaxInput.js"></script>
<script type="text/javascript" src="code/webinoscalls.js"></script>
<script type="text/javascript" src="code/contacts.js"></script>
<script type="text/javascript" src="code/demo3.js"></script>
<script type="text/javascript" src="code/remoteInput.js"></script>
<script type="text/javascript" src="code/listenRemoteInput.js"></script>
<script type="text/javascript" src="code/vehicle.js"></script>
<script type="text/javascript" src="code/tvManager.js"></script>
<script type="text/javascript" src="code/UIframework.js"></script>
-->
</head>

<body>
<div id="globalmenu">
	<ul class="main">
		<li class="logo"></li>
		<li class="menu-create"><a href="#menucreate" id="menucreate"><span>Create Tweet</span></a></li>
		<li class="menu-twitter"><a href="#menutwitter" id="menutwitter"><span>Twitter</span></a></li>
		<!--<li><a href="#menuauthorize" id="menuauthorize"><span>Authorize Devices</span></a></li>-->
		<li class="menu-settings"><a href="#menusettings" id="menusettings"><span>Settings</span></a></li>
	</ul>
</div>
<div id="content">
	<div id="pageNotFound">Content here</div>

	<div id="splash" class="splash">
	  <h1>Webinos Enabled</h1>
	  <img src="./img/Status-user-online-icon.png" width="128" id="status"/>
	  <img src="./img/Status-user-busy-icon.png" width="128" id="status_ko"/>
	</div>

	<div id="create">
		<div id="tbox" class="jMax"></div>
	</div>

	<div id="timelineContentPage">
		<ul id="timeline" class="list"></ul>
	</div>

	<div id="wetContactsTwitter">
		<ul id="friendsList" class="list checkbox">
		    <li class="list-header"><p>Twitter Contacts</p></li>
		</ul>
    </div>

    <div id="wetContactsWebinos">
    	<div id="devices" class="tabbed" style="font-weight: bold; text-align: center;">
	        <ul id="devicelist" class="radio icon-list">
	            <li class="list-header"><p>Look up for contacts! Pick one of these Webinos devices</p></li>
	            <li class="removeIfFound"><label class="mobile">Sorry, no device with contacts was found...</label></li>
	        </ul>
	    </div>
	    <br/>
		<ul id="contactList" class="list checkbox">
		    <li class="list-header"><p>Webinos Contacts</p></li>
		</ul>
    </div>

    <div id="wetTvMedia">
    	<div id="tvdevices" class="tabbed" style="font-weight: bold; text-align: center;">
	        <ul id="tvdevicelist" class="radio icon-list">
	            <li class="list-header"><p>Look up for TV! Pick one of these Webinos devices</p></li>
	            <li class="removeIfFound"><label class="tv">Sorry, no Tv was found...</label></li>
	        </ul>
	    </div>
	    <br/>
    	<div id="mediapic"></div>
    </div>

    <div id="wetVehicleInfo">
    	<div id="vehicledevices" class="tabbed" style="font-weight: bold; text-align: center;">
	        <ul id="vehicledevicelist" class="radio icon-list">
	            <li class="list-header"><p>Look up for Vehicle! Pick one of these Webinos devices</p></li>
	            <li class="removeIfFound"><label class="car">Sorry, no Vehicle was found...</label></li>
	        </ul>
	    </div>
    </div>

    <div id="wetRemoteListen">
    	<div class="tabbed" style="font-weight: bold; text-align: center;">
	        <ul id="remoteDevicesList" class="radio icon-list">
	            <li class="list-header"><p>Look up for Device! Pick one of these Webinos devices</p></li>
	            <li class="removeIfFound"><label class="car">Sorry, no Device was found...</label></li>
	        </ul>
	    </div>
    </div>

    <div id="wetRemoteFind">
    	List Connected PZPs, user shall select one to start remoting his twitter box.
    </div>

</div>

<div id="secondarymenu"></div>

</body>
</html>
